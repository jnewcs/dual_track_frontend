(this.webpackJsonpdual_track_frontend=this.webpackJsonpdual_track_frontend||[]).push([[4],{88:function(e,t,n){"use strict";t.a=function(e){var t=e.condition,n=void 0===t||t,s=e.children;return n?s:null}},94:function(e,t,n){"use strict";n.r(t);var s=n(33),c=n(2),i=n(14),a=n(1),r=n(9),o=n(35),l=n(88),u=n(95);function d(e){var t=e/36e5,n=60*(t-Math.floor(t)),s=Math.floor(n),c=60*(n-s),i=Math.floor(c),a=100*(c-i),r=Math.floor(a),o=s.toString().padStart(2,"0"),l=i.toString().padStart(2,"0"),u=r.toString().padStart(2,"0");return"".concat(o,":").concat(l,":").concat(u)}function m(){return Object(u.a)()}var h=n(4),j=n(23),b=function(e,t){var n=t-e/1e3;return n<-8?"has-text-danger":n<-4?"has-text-warning":"has-text-success"},g=n(0),O=function(e){var t=e.selectedWorkout.identifier,n=Object(h.f)().email,s=function(e){var t=localStorage.getItem("liveSegmentData-".concat(e))||"{}";return JSON.parse(t)}(t);return s&&Object.keys(s).length?Object(g.jsx)("div",{className:"columns",children:Object.keys(s).map((function(e,t){var c=s[e];return Object(g.jsx)("div",{className:"column",children:Object(g.jsxs)("div",{className:"card mt-2",children:[Object(g.jsxs)("div",{className:"is-size-5 has-text-centered pt-2",children:["Session #",t+1]}),Object(g.jsx)("hr",{className:"mt-2 mb-2"}),Object(g.jsx)("div",{className:"card-content pt-1",children:Object(g.jsx)("div",{className:"content",children:Object(g.jsxs)("table",{className:"table is-bordered",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Segment"}),Object(g.jsx)("th",{children:"Goal"}),Object(g.jsx)("th",{children:"Finish Time"})]})}),Object(g.jsx)("tbody",{children:Object.keys(c).map((function(e){var t=c[e][n];return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.displayLength}),Object(g.jsx)("td",{children:d(t.timeGoal)}),Object(g.jsx)("td",{className:"pb-1 pb-1 ".concat(b(t.finishTime,t.timeGoal)),children:d(t.finishTime)})]},e)}))})]})})})]})},e)}))}):Object(g.jsx)("div",{className:"is-size-3 has-text-centered",children:"You have not run this workout before"})},f=n(89),x=n(16),v=n(17),p=n(18),k=n(19),S=n(90),N=n.n(S),y=n(5),w=n.n(y),I=n(10),C=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1];if(!("wakeLock"in navigator))return null;var u=function(){var e=Object(I.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.wakeLock.request("screen");case 3:t=e.sent,s(t),l(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("".concat(e.t0.name,", ").concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){n&&n.release(),s(null),l(!1)};return Object(g.jsx)(g.Fragment,{children:o?Object(g.jsx)("div",{className:"button",tabIndex:"0",onClick:d,onKeyUp:function(e){return"Enter"===e.key&&d()},children:"Unlock Page"}):Object(g.jsx)("div",{className:"button",tabIndex:"0",onClick:u,onKeyUp:function(e){return"Enter"===e.key&&u()},children:"Lock Page"})})},W=function(){var e=Object(a.useState)(!!document.fullscreenElement),t=Object(i.a)(e,2),n=t[0],s=t[1],c=function(){document.documentElement.requestFullscreen(),s(!0)},r=function(){document.exitFullscreen(),s(!1)};return Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)("div",{className:"button",tabIndex:"0",onClick:r,onKeyUp:function(e){return"Enter"===e.key&&r()},children:"Leave Full Screen"}):Object(g.jsx)("div",{className:"button",tabIndex:"0",onClick:c,onKeyUp:function(e){return"Enter"===e.key&&c()},children:"Enter Full Screen"})})},F=function(e){var t=e.members,n=Object(h.f)().email;return!t||t.count<2?null:Object(g.jsx)("div",{children:Object.values(t).map((function(e){var t=e.email===n?"is-link":"is-light";return Object(g.jsx)("div",{className:"tag mr-1 mb-1 ".concat(t),children:e.email},e.email)}))})},D=function(e){var t=e.open,n=e.members,s=e.chatHistory,c=e.closeChat,i=e.message,a=e.setMessage,r=e.sendMessage,o=Object(h.f)().email;return!t||!n||Object.values(n).length<2?null:Object(g.jsxs)("div",{className:"chat-interface box has-background-link-light p-5",children:[Object(g.jsx)("div",{tabIndex:0,className:"delete is-clickable is-size-3 close-chat-interface",onClick:c,onKeyUp:function(e){return"Enter"===e.key&&c()},dangerouslySetInnerHTML:{__html:"&#215;"}}),Object(g.jsx)(F,{members:n}),Object(g.jsxs)("div",{className:"chat-messages box mt-2 p-3",children:[Object(g.jsx)("div",{className:"is-full-width is-flex is-justify-content-center mb-4",children:Object(g.jsx)("div",{className:"tag is-dark",children:"This is the beginning of your conversation history"})}),s.map((function(e,t){return e.sender===o?Object(g.jsx)("div",{className:"is-full-width is-flex is-justify-content-flex-end mb-2",children:Object(g.jsx)("div",{className:"tag is-medium is-link from-me-message is-pulled-right",children:e.message})},"chat-me-".concat(t)):Object(g.jsx)("div",{className:"mb-2",children:Object(g.jsx)("div",{className:"tag is-medium is-light to-me-message",children:e.message})},"chat-others-".concat(t))})),Object(g.jsx)("div",{id:"last-chat-element"})]}),Object(g.jsx)("div",{className:"chat-send-box box mt-2 p-3 mb-2",children:Object(g.jsxs)("div",{className:"is-flex",children:[Object(g.jsx)("input",{className:"input is-normal",type:"text",placeholder:"Enter your message",value:i,onChange:function(e){return a(e.target.value)},onKeyUp:function(e){return"Enter"===e.key&&r()}}),Object(g.jsx)("div",{className:"button is-primary ml-2",tabIndex:0,onClick:r,disabled:!i||!i.length,children:"Send"})]})})]})},E=function(e){var t=e.showChat,n=e.channel,s=e.chatHistory,c=e.setChatHistory,r=e.unreadMessage,o=e.setUnreadStatus,l=e.members,u=Object(a.useState)(!1),d=Object(i.a)(u,2),m=d[0],j=d[1],b=Object(a.useState)(""),O=Object(i.a)(b,2),x=O[0],v=O[1],p=Object(h.f)().email;if(Object(a.useEffect)((function(){var e=document.getElementById("last-chat-element");e&&e.scrollIntoView()}),[s,m]),Object(a.useEffect)((function(){var e=function(e){27===e.keyCode&&k(!1)};m?document.addEventListener("keydown",e,!1):document.removeEventListener("keydown",e,!1)}),[m]),!n||!t)return null;var k=function(){m?document.body.classList.remove("not-vertically-scrollable"):(o(!1),document.body.classList.add("not-vertically-scrollable")),j(!m)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("button",{className:"button",tabIndex:0,onClick:k,disabled:Object.values(l).length<2,onKeyUp:function(e){return"Enter"===e.key&&k()},children:["Workout Chat",r&&Object(g.jsx)("div",{className:"dot ml-1 has-background-primary"})]}),Object(g.jsx)(D,{open:m,members:l,chatHistory:s,closeChat:function(){k(!1)},message:x,setMessage:v,sendMessage:function(){if(x&&x.length){var e={id:s.length+1,sender:p,message:x,timestamp:Date.now()};n.trigger("client-chat-message",e),c([].concat(Object(f.a)(s),[e])),v("")}}})]})},M=n(41),R=function(e){var t=e.showFinish,n=void 0===t||t,s=e.onPlayCallback,c=void 0===s?function(){}:s,r=e.onStopCallback,o=void 0===r?function(){}:r,l=e.onFinishCallback,u=void 0===l?function(){}:l,m=Object(a.useState)(!1),h=Object(i.a)(m,2),j=h[0],b=h[1],O=Object(a.useState)(null),f=Object(i.a)(O,2),x=f[0],v=f[1],p=Object(a.useState)(0),k=Object(i.a)(p,2),S=k[0],N=k[1],y=Object(a.useState)(null),w=Object(i.a)(y,2),I=w[0],C=w[1],W=function(){j?(clearInterval(I),o()):(v(Date.now()-S),c()),b(!j)};Object(a.useEffect)((function(){W()}),[]),Object(a.useEffect)((function(){if(null===x)clearInterval(I),C(null),N(0);else{var e=setInterval((function(){N(null===x?0:Date.now()-x)}),10);C(e)}}),[x]);var F=function(){j&&(W(),u(S))};return Object(g.jsxs)("div",{className:"has-text-centered is-flex is-flex-direction-column is-align-items-center",children:[Object(g.jsx)("div",{className:"stopwatch-circle circle is-flex is-justify-content-center is-align-items-center",children:Object(g.jsx)("span",{className:"time is-size-4",id:"display",children:S?d(S):"00:00:00"})}),Object(g.jsxs)("div",{className:"mt-3 is-flex is-justify-content-space-between is-align-items-center",children:[Object(g.jsx)("img",{className:"is-clickable",tabIndex:0,id:"main-action-button",alt:j?"pause stopwatch":"start stopwatch",src:j?"https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/pause-button_pinhpy.svg":"https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/play-button_opkxmt.svg",onClick:W,onKeyUp:function(e){return"Enter"===e.key&&W()}}),n&&j&&Object(g.jsx)("div",{className:"button ml-5 is-medium",tabIndex:0,id:"reset-button",onClick:F,onKeyUp:function(e){return"Enter"===e.key&&F()},children:"Finish"})]})]})},U=function(e){var t=e.workoutStarted,n=e.startClick,s=e.onFinishCallback,c=e.showStopwatch;return t?Object(g.jsxs)(g.Fragment,{children:[!c&&Object(g.jsx)("div",{tabIndex:0,className:"button is-primary is-medium",onClick:n,children:"Start"}),Object(g.jsx)(l.a,{condition:c,children:Object(g.jsx)(R,{onFinishCallback:s})})]}):null},_=function(e){var t=e.segmentData;e.timeGoal;return Object.keys(t).length?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("table",{className:"table is-bordered",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"User"}),Object(g.jsx)("th",{children:"Finish Time"})]})}),Object(g.jsx)("tbody",{children:Object.keys(t).map((function(e){var n=t[e];return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e}),Object(g.jsx)("td",{className:"pb-1 pb-1 ".concat(b(n.finishTime,n.timeGoal)),children:d(n.finishTime)})]},e)}))})]})}):null},L=function(e){Object(p.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(x.a)(this,n);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={minutesRemaining:0,secondsRemaining:0,goalInMS:(new Date).getTime()+1e3*e.props.amount},e.calculateMinutesRemaining=function(){var t=(new Date).getTime(),n=e.state.goalInMS-t;return Math.floor(n%36e5/6e4)},e.tick=function(){e.setState({minutesRemaining:e.calculateMinutesRemaining(),secondsRemaining:e.calculateSecondsRemaining()},(function(){e.state.secondsRemaining<=0&&e.state.minutesRemaining<=0&&(clearInterval(e.interval),e.props.onFinish&&e.props.onFinish())}))},e.componentDidMount=function(){e.tick(),e.interval=setInterval(e.tick,1e3)},e.componentWillUnmount=function(){clearInterval(e.interval)},e}return Object(v.a)(n,[{key:"calculateSecondsRemaining",value:function(){var e=(new Date).getTime(),t=this.state.goalInMS-e;return Math.floor(t%6e4/1e3)}},{key:"textColor",get:function(){return 0===this.state.minutesRemaining&&this.state.secondsRemaining<30?"has-text-danger":""}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:this.textColor,children:[this.state.minutesRemaining,":",this.state.secondsRemaining," left"]})}}]),n}(a.PureComponent),T=function(e){var t=e.restFinished,n=e.rest,s=e.showRestTimer,c=e.onRestFinish;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("b",{className:"is-size-5",children:"Rest"}),Object(g.jsx)("br",{}),Object(g.jsx)(l.a,{condition:!t,children:s?Object(g.jsx)(L,{amount:n,onFinish:c}):Object(g.jsxs)("span",{children:[n," seconds"]})}),Object(g.jsx)(l.a,{condition:t,children:Object(g.jsx)("div",{className:"has-text-success",children:"Get ready for the next segment!"})})]})},z=function(e){var t=e.segment,n=e.segmentsLength,s=e.showStopwatch,c=e.toggleStopwatch,r=e.segmentData,o=e.index,u=e.workoutStarted,d=e.segmentIdentifier,m=Object(a.useState)(!1),j=Object(i.a)(m,2),b=j[0],O=j[1],f=Object(a.useState)(!1),x=Object(i.a)(f,2),v=x[0],p=x[1],k=Object(h.f)().email;if(Object(a.useEffect)((function(){O(!1),p(!1)}),[d]),!t)return null;var S=!!r[k];return Object(g.jsx)("div",{className:"mt-2",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsxs)("div",{className:"segment-position",children:[o+1," / ",n]}),Object(g.jsx)("div",{className:"card-content pt-1",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("div",{className:"columns mt-1 is-flex",children:[Object(g.jsxs)("div",{className:"column is-half",children:[Object(g.jsxs)("b",{className:"is-size-5",children:[t.display_length," Goal"]}),Object(g.jsx)("br",{}),t.time_goal," seconds"]}),Object(g.jsx)("div",{className:"column is-half",children:Object(g.jsx)(T,{rest:t.rest,showRestTimer:b,onRestFinish:function(){O(!1),p(!0)},restFinished:v})})]}),Object(g.jsx)(l.a,{condition:!S,children:Object(g.jsx)(U,{showStopwatch:s,startClick:function(){c(!s)},onFinishCallback:function(e){c(!1,e),O(!0)},workoutStarted:u})}),Object(g.jsx)(_,{segmentData:r,timeGoal:t.time_goal}),Object(g.jsx)("hr",{}),Object(g.jsx)("p",{children:t.description})]})})]})})},H=function(e){var t=e.segments,n=e.segmentsLength,s=e.segmentIdentifier,c=e.segmentData,i=e.showStopwatch,a=e.toggleStopwatch;if(!n)return null;var r=t.find((function(e){return e.identifier===s})),o=t.findIndex((function(e){return e.identifier===s}));return Object(g.jsx)(z,{index:o,segment:r,segmentsLength:n,segmentIdentifier:s,workoutStarted:!0,segmentData:c,showStopwatch:i,toggleStopwatch:a})},G=function(e){var t=e.segment;return Object(g.jsx)("div",{className:"column is-one-third",children:Object(g.jsx)("div",{className:"card",children:Object(g.jsx)("div",{className:"card-content pt-1",children:Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("div",{className:"columns mt-1 is-flex",children:[Object(g.jsxs)("div",{className:"column is-half",children:[Object(g.jsxs)("b",{className:"is-size-5",children:[t.display_length," Goal"]}),Object(g.jsx)("br",{}),t.time_goal," seconds"]}),Object(g.jsxs)("div",{className:"column is-half",children:[Object(g.jsx)("b",{className:"is-size-5",children:"Rest"}),Object(g.jsx)("br",{}),t.rest," seconds"]})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("p",{children:t.description})]})})})})},K=function(e){var t=e.selectedWorkout,n=e.segmentIdentifier,s=e.segmentData,c=e.showStopwatch,i=e.toggleStopwatch,a=Object(M.a)(e,["selectedWorkout","segmentIdentifier","segmentData","showStopwatch","toggleStopwatch"]),r=Object(h.f)().email;if(!t.segments.length)return Object(g.jsx)("p",{className:"mb-3",children:"Workout cannot start. No segments added yet :("});var o=t.segments,u=o.length,d=!!s[r],m=Object.keys(s).length===Object.keys(a.members).length;return n?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(l.a,{condition:d&&m,children:Object(g.jsx)("div",{className:"button is-primary mt-2 mb-1",tabIndex:0,onClick:a.onNextClick,children:"Next Segment"})}),Object(g.jsx)(H,{segments:o,segmentsLength:u,segmentIdentifier:n,segmentData:s,showStopwatch:c,toggleStopwatch:i})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"is-size-3 mb-5",children:[u," Total ",1===u?"Segment":"Segments"]}),Object(g.jsx)("div",{className:"segments columns",children:o.map((function(e){return Object(g.jsx)(G,{segment:e},e.identifier)}))})]})},J=function(e){Object(p.a)(n,e);var t=Object(k.a)(n);function n(e){var s;return Object(x.a)(this,n),(s=t.call(this,e)).setChatHistory=function(e){s.setState({chatHistory:e})},s.setUnreadStatus=function(e){s.setState({unreadMessage:e})},s.startWorkoutWrapper=function(){s.props.startWorkout(s.channel)},s.toggleStopwatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)s.channel.trigger("client-segment-started",{});else{var n=s.props.selectedWorkout.segments.find((function(e){return e.identifier===s.props.segmentIdentifier})),c={email:s.props.email,results:{finishTime:t,timeGoal:n.time_goal,displayLength:n.display_length}};s.channel.trigger("client-segment-finished",c),s.props.mirrorSegmentData(c)}s.setState({showStopwatch:e})},s.onNextClick=function(){s.props.mirrorNextSegment(),s.channel.trigger("client-segment-next",{})},s.state={chatHistory:[],unreadMessage:!1,members:[],showChat:!1,showStopwatch:!1},N.a.logToConsole=!1,s.pusher=new N.a("cebc878343c66e63a78e",{cluster:"us3",authEndpoint:"".concat("https://glacial-plateau-65219.herokuapp.com","/pusher/auth"),auth:{headers:{Authorization:localStorage.getItem("currentUserToken")||""}}}),s.channel=s.pusher.subscribe("presence-workoutChannel-".concat(s.identifier)),s}return Object(v.a)(n,[{key:"identifier",get:function(){return this.props.selectedWorkout.identifier}},{key:"componentDidMount",value:function(){var e=this;this.channel.bind("pusher:subscription_succeeded",(function(e){this.setState({members:e.members,showChat:!0})}),this),this.channel.bind("pusher:member_added",(function(e){var t=Object(c.a)(Object(c.a)({},this.state.members),{},Object(s.a)({},e.id,e.info));this.setState({members:t})}),this),this.channel.bind("pusher:member_removed",(function(e){var t=this,n=Object.keys(this.state.members).filter((function(t){return"".concat(t)!=="".concat(e.id)})).reduce((function(e,n){return e[n]=t.state.members[n],e}),{});this.setState({members:n})}),this),this.channel.bind("client-chat-message",(function(t){e.setState({chatHistory:[].concat(Object(f.a)(e.state.chatHistory),[Object(c.a)({},t)]),unreadMessage:!0})}),this),this.channel.bind("client-workout-started",(function(t){e.props.mirrorWorkout(t)}),this),this.channel.bind("client-segment-started",(function(t){e.setState({showStopwatch:!0})}),this),this.channel.bind("client-segment-finished",(function(t){e.props.mirrorSegmentData(t)}),this),this.channel.bind("client-segment-next",(function(t){e.props.mirrorNextSegment()}),this)}},{key:"componentWillUnmount",value:function(){this.pusher.unsubscribe("presence-workoutChannel-".concat(this.identifier)),this.channel&&this.channel.unbind(),this.pusher.disconnect(),document.body.classList.remove("not-vertically-scrollable")}},{key:"showStartWorkoutButton",get:function(){return!this.props.workoutStarted&&!!this.props.selectedWorkout.segments.length}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"buttons",children:[Object(g.jsx)(l.a,{condition:this.showStartWorkoutButton,children:Object(g.jsx)("div",{tabIndex:0,className:"button is-primary",onClick:this.startWorkoutWrapper,children:"Start Workout"})}),Object(g.jsx)(C,{}),Object(g.jsx)(W,{}),Object(g.jsx)(E,Object(c.a)({channel:this.channel,setChatHistory:this.setChatHistory,setUnreadStatus:this.setUnreadStatus},this.state))]}),Object(g.jsx)(F,{members:this.state.members}),Object(g.jsx)(K,{selectedWorkout:this.props.selectedWorkout,segmentIdentifier:this.props.segmentIdentifier,segmentData:this.props.segmentData,showStopwatch:this.state.showStopwatch,toggleStopwatch:this.toggleStopwatch,members:this.state.members,onNextClick:this.onNextClick})]})}}]),n}(a.Component);t.default=function(e){var t=e.match.params.identifier,n=Object(h.f)(),u=n.selectedWorkout,d=n.error,b=n.loading,f=n.email,x=Object(h.e)(),v=Object(a.useState)("current"),p=Object(i.a)(v,2),k=p[0],S=p[1],N=localStorage.getItem("liveSessionIdentifier")||null,y=localStorage.getItem("liveWorkoutIdentifier")||null,w=!!N&&t===y,I=Object(a.useState)(w),C=Object(i.a)(I,2),W=C[0],F=C[1],D=w?N:null,E=Object(a.useState)(D),M=Object(i.a)(E,2),R=M[0],U=M[1],_=localStorage.getItem("liveSegmentIdentifier")||null,L=Object(a.useState)(_),T=Object(i.a)(L,2),z=T[0],H=T[1],G=function(e,t,n){var s=localStorage.getItem("liveSegmentData-".concat(e))||"{}",c=JSON.parse(s)[t];return c&&c[n]||{}}(t,R,z),K=Object(a.useState)(G),P=Object(i.a)(K,2),B=P[0],q=P[1],A=function(e,t,n){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];localStorage.setItem("liveSessionIdentifier",e),localStorage.setItem("liveWorkoutIdentifier",t),localStorage.setItem("liveSegmentIdentifier",n),F(s),U(e),H(n),q({})};return Object(a.useEffect)((function(){Object(j.b)(t,x)}),[t,x]),b?Object(g.jsx)(o.a,{}):u&&Object.keys(u).length?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("nav",{className:"breadcrumb mb-1","aria-label":"breadcrumbs",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(r.b,{to:"/workouts",className:"",children:"Workouts"})}),Object(g.jsx)("li",{className:"is-active",children:Object(g.jsx)("div",{className:"ml-3",children:u.name})})]})}),Object(g.jsx)(l.a,{condition:!W,children:Object(g.jsx)("div",{className:"tabs is-medium",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"current"===k?"is-active":void 0,children:Object(g.jsx)("a",{className:"tab",onClick:function(){return S("current")},children:"Current"})}),Object(g.jsx)("li",{className:"previous"===k?"is-active":void 0,children:Object(g.jsx)("a",{className:"tab",onClick:function(){return S("previous")},children:"Previous Sessions"})})]})})}),Object(g.jsx)(l.a,{condition:W,children:Object(g.jsx)("div",{className:"is-size-4 mb-2",children:"Workout is Live!"},R)}),"current"===k&&Object(g.jsx)(J,{selectedWorkout:u,workoutStarted:W,startWorkout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=m(),s=u.segments[0].identifier;A(n,t,s),e&&e.trigger("client-workout-started",{uuid:n,identifier:t,currentSegmentIdentifier:s})},mirrorWorkout:function(e){A(e.uuid,e.identifier,e.currentSegmentIdentifier)},segmentIdentifier:z,segmentData:B,mirrorSegmentData:function(e){q(Object(c.a)(Object(c.a)({},B),{},Object(s.a)({},e.email,e.results)))},mirrorNextSegment:function(){var e,n=u.segments.findIndex((function(e){return e.identifier===z}));e=n+1>=u.segments.length?null:u.segments[n+1].identifier,localStorage.setItem("liveSegmentIdentifier",e),function(e,t,n,i){var a=localStorage.getItem("liveSegmentData-".concat(e))||"{}",r=JSON.parse(a),o=r[t]||{},l=Object(c.a)(Object(c.a)({},o),{},Object(s.a)({},n,i)),u=JSON.stringify(Object(c.a)(Object(c.a)({},r),{},Object(s.a)({},t,l)));localStorage.setItem("liveSegmentData-".concat(e),u)}(t,R,z,B),H(e),q({}),null===e&&(A(null,null,null,!1),S("previous"))},email:f}),"previous"===k&&Object(g.jsx)(O,{selectedWorkout:u})]}):Object(g.jsxs)("div",{className:"has-text-centered",children:[Object(g.jsx)("h1",{className:"is-size-3",children:d}),Object(g.jsx)(r.b,{to:"/workouts",className:"button mt-3",children:"Return to My Workouts"})]})}}}]);
//# sourceMappingURL=4.af079fa4.chunk.js.map