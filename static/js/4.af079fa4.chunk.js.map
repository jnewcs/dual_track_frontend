{"version":3,"sources":["Components/Show.jsx","Config/utils.js","Pages/Workout/SegmentUtils.js","Pages/Workout/PreviousSessions.jsx","Pages/Workout/LockScreen.jsx","Pages/Workout/FullScreen.jsx","Pages/Workout/ChatMembers.jsx","Pages/Workout/ChatInterface.jsx","Pages/Workout/ChatBubble.jsx","Components/Stopwatch.jsx","Pages/Workout/SegmentActions.jsx","Pages/Workout/SegmentDataTable.jsx","Components/Countdown.jsx","Pages/Workout/SegmentRest.jsx","Pages/Workout/Segment.jsx","Pages/Workout/LiveSegmentView.jsx","Pages/Workout/StaticSegment.jsx","Pages/Workout/Segments.jsx","Pages/Workout/WorkoutDetail.jsx","Pages/Workout/index.jsx"],"names":["Show","condition","children","timeToString","time","diffInHrs","diffInMin","Math","floor","mm","diffInSec","ss","diffInMs","ms","formattedMM","toString","padStart","formattedSS","formattedMS","generateUUID","uuidv4","grabSegmentNotificationClass","finishTime","timeGoal","difference","PreviousSessions","identifier","selectedWorkout","email","useAuthState","previousSessions","segmentDataFromLS","localStorage","getItem","JSON","parse","getPreviousWorkoutData","Object","keys","length","className","map","sessionIdentifier","index","segmentData","segmentIdentifier","results","displayLength","LockScreen","useState","screenLock","setScreenLock","locked","setLockedStatus","navigator","requestWakeLock","a","wakeLock","request","lock","console","error","name","message","releaseWakeLock","release","tabIndex","onClick","onKeyUp","e","key","FullScreen","document","fullscreenElement","inFullScreen","setScreenStatus","enterFullScreen","documentElement","requestFullscreen","leaveFullScreen","exitFullscreen","ChatMembers","members","count","values","member","tagType","ChatInterface","open","chatHistory","closeChat","setMessage","sendMessage","dangerouslySetInnerHTML","__html","chat","sender","id","type","placeholder","value","onChange","target","disabled","ChatBubble","showChat","channel","setChatHistory","unreadMessage","setUnreadStatus","setOpenStatus","useEffect","lastElement","getElementById","scrollIntoView","escFunction","keyCode","openChat","addEventListener","removeEventListener","body","classList","remove","add","formattedMessage","timestamp","Date","now","trigger","StopWatch","showFinish","onPlayCallback","onStopCallback","onFinishCallback","playing","setPlaying","startTime","setTime","elapsedTime","setElapsedTime","timerInterval","setTimerInterval","handleMainAction","clearInterval","interval","setInterval","handleFinish","alt","src","SegmentActions","workoutStarted","startClick","showStopwatch","SegmentDataTable","Countdown","state","minutesRemaining","secondsRemaining","goalInMS","getTime","props","amount","calculateMinutesRemaining","distance","tick","setState","calculateSecondsRemaining","onFinish","componentDidMount","componentWillUnmount","this","textColor","PureComponent","SegmentRest","restFinished","rest","showRestTimer","onRestFinish","Segment","segment","segmentsLength","toggleStopwatch","toggleRestTimer","toggleRestFinished","myResultsIn","display_length","time_goal","description","LiveSegmentView","segments","activeSegment","find","s","findIndex","StaticSegment","Segments","allResultsIn","onNextClick","WorkoutDetail","history","status","startWorkoutWrapper","startWorkout","mirrorSegmentData","mirrorNextSegment","Pusher","logToConsole","process","pusher","cluster","authEndpoint","auth","headers","subscribe","bind","info","newMembers","filter","reduce","obj","data","mirrorWorkout","_data","unsubscribe","unbind","disconnect","showStartWorkoutButton","Component","Workout","match","params","loading","dispatch","useAuthDispatch","activeTab","setActiveTab","sessionFromLS","identifierFromLS","workoutStartedInitial","setWorkoutStatus","sessionIdenitiferInitial","liveSessionIdentifier","setSessionIdentifier","segmentIdentifierFromLS","setSegmentIdentifier","defaultSegmentData","relevantSession","getRelevantSegmentData","setSegmentData","setWorkoutData","uuid","newIdentifier","newSegmentIdentifier","workoutStatus","setItem","getWorkout","Loader","aria-label","to","undefined","currentSegmentIdentifier","currentIndex","saved","savedIdentifierData","savedSessionData","newSessionData","jsonString","stringify","saveRelevantSegmentData"],"mappings":"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","file":"static/js/4.af079fa4.chunk.js","sourcesContent":["const Show = ({ condition = true, children }) => {\n  if (!condition) return null;\n\n  return children;\n}\n\nexport default Show;\n","import { v4 as uuidv4 } from 'uuid';\n\n// SVG Icon Links\nexport const pauseButtonSrc = 'https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/pause-button_pinhpy.svg';\nexport const playButtonSrc = 'https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/play-button_opkxmt.svg';\nexport const resetButtonSrc = 'https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/reset-button_mdv6wf.svg';\n\n// Convert time to a format of hours, minutes, seconds, and milliseconds\nexport function timeToString(time) {\n  let diffInHrs = time / 3600000;\n  let hh = Math.floor(diffInHrs);\n\n  let diffInMin = (diffInHrs - hh) * 60;\n  let mm = Math.floor(diffInMin);\n\n  let diffInSec = (diffInMin - mm) * 60;\n  let ss = Math.floor(diffInSec);\n\n  let diffInMs = (diffInSec - ss) * 100;\n  let ms = Math.floor(diffInMs);\n\n  let formattedMM = mm.toString().padStart(2, \"0\");\n  let formattedSS = ss.toString().padStart(2, \"0\");\n  let formattedMS = ms.toString().padStart(2, \"0\");\n\n  return `${formattedMM}:${formattedSS}:${formattedMS}`;\n}\n\nexport function generateUUID() {\n  return uuidv4();\n}\n","export const grabSegmentNotificationClass = (finishTime, timeGoal) => {\n  const finishTimeInSeconds = finishTime / 1000.0;\n  const difference = timeGoal - finishTimeInSeconds;\n  if (difference < -8.0) return 'has-text-danger';\n  if (difference < -4.0) return 'has-text-warning';\n\n  return 'has-text-success';\n};\n\nexport const getPreviousWorkoutData = (identifier) => {\n  const segmentDataFromLS = localStorage.getItem(`liveSegmentData-${identifier}`) || \"{}\";\n  return JSON.parse(segmentDataFromLS);\n}\n\nexport const getRelevantSegmentData = (identifier, sessionIdentifier, segmentIdentifier) => {\n  const segmentDataFromLS = localStorage.getItem(`liveSegmentData-${identifier}`) || \"{}\";\n  const parsedSegmentData = JSON.parse(segmentDataFromLS);\n  const relevantSession = parsedSegmentData[sessionIdentifier];\n  if (!relevantSession) return {};\n\n  return relevantSession[segmentIdentifier] || {};\n}\n\nexport const saveRelevantSegmentData = (identifier, sessionIdentifier, segmentIdentifier, segmentData) => {\n  const saved = localStorage.getItem(`liveSegmentData-${identifier}`) || \"{}\";\n  const savedIdentifierData = JSON.parse(saved);\n  const savedSessionData = savedIdentifierData[sessionIdentifier] || {};\n  const newSessionData = {\n    ...savedSessionData,\n    [segmentIdentifier]: segmentData\n  };\n\n  const jsonString = JSON.stringify({\n    ...savedIdentifierData,\n    [sessionIdentifier]: newSessionData\n  });\n  localStorage.setItem(`liveSegmentData-${identifier}`, jsonString);\n}\n","import React from 'react';\nimport { timeToString } from '../../Config/utils';\nimport { useAuthState } from '../../Context';\nimport { getPreviousWorkoutData, grabSegmentNotificationClass } from './SegmentUtils';\n\nconst PreviousSessions = ({ selectedWorkout }) => {\n  const { identifier } = selectedWorkout;\n  const { email } = useAuthState();\n  const previousSessions = getPreviousWorkoutData(identifier);\n\n  if (!previousSessions || !Object.keys(previousSessions).length) {\n    return (\n      <div className='is-size-3 has-text-centered'>\n        You have not run this workout before\n      </div>\n    );\n  }\n\n  return (\n    <div className='columns'>\n      {Object.keys(previousSessions).map((sessionIdentifier, index) => {\n        const segmentData = previousSessions[sessionIdentifier];\n\n        return (\n          <div className='column' key={sessionIdentifier}>\n            <div className='card mt-2'>\n              <div className='is-size-5 has-text-centered pt-2'>\n                Session #{index + 1}\n              </div>\n\n              <hr className='mt-2 mb-2'/>\n\n              <div className='card-content pt-1'>\n                <div className='content'>\n                  <table className='table is-bordered'>\n                    <thead>\n                      <tr>\n                        <th>Segment</th>\n                        <th>Goal</th>\n                        <th>Finish Time</th>\n                      </tr>\n                    </thead>\n\n                    <tbody>\n                      {Object.keys(segmentData).map(segmentIdentifier => {\n                        const results = segmentData[segmentIdentifier][email];\n\n                        return (\n                          <tr key={segmentIdentifier}>\n                            <td>{results.displayLength}</td>\n                            <td>{timeToString(results.timeGoal)}</td>\n                            <td className={`pb-1 pb-1 ${grabSegmentNotificationClass(results.finishTime, results.timeGoal)}`}>\n                              {timeToString(results.finishTime)}\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default PreviousSessions;\n","import React, { useState } from 'react';\n\nconst LockScreen = () => {\n  const [screenLock, setScreenLock] = useState(null);\n  const [locked, setLockedStatus] = useState(false);\n\n  if (!('wakeLock' in navigator)) {\n    // Screen Wake Lock API is not supported 🎉\n    // - Need to be running the server in HTTPS mode\n    return null;\n  }\n\n  // Function that attempts to request a screen wake lock.\n  const requestWakeLock = async () => {\n    try {\n      const lock = await navigator.wakeLock.request('screen');\n      setScreenLock(lock);\n      setLockedStatus(true);\n    } catch (err) {\n      console.error(`${err.name}, ${err.message}`);\n    }\n  };\n  const releaseWakeLock = () => {\n    if (screenLock) screenLock.release();\n\n    setScreenLock(null);\n    setLockedStatus(false);\n  };\n\n  return (\n    <>\n      {locked ? (\n        <div className='button' tabIndex='0' onClick={releaseWakeLock} onKeyUp={(e) => e.key === 'Enter' && releaseWakeLock()}>\n          Unlock Page\n        </div>\n      ) : (\n        <div className='button' tabIndex='0' onClick={requestWakeLock} onKeyUp={(e) => e.key === 'Enter' && requestWakeLock()}>\n          Lock Page\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default LockScreen;\n","import React, { useState } from 'react';\n\nconst FullScreen = () => {\n  const [inFullScreen, setScreenStatus] = useState(!!document.fullscreenElement);\n\n  const enterFullScreen = () => {\n    document.documentElement.requestFullscreen();\n    setScreenStatus(true);\n  };\n  const leaveFullScreen = () => {\n    document.exitFullscreen();\n    setScreenStatus(false);\n  };\n\n  return (\n    <>\n      {inFullScreen ? (\n        <div className='button' tabIndex='0' onClick={leaveFullScreen} onKeyUp={(e) => e.key === 'Enter' && leaveFullScreen()}>\n          Leave Full Screen\n        </div>\n      ) : (\n        <div className='button' tabIndex='0' onClick={enterFullScreen} onKeyUp={(e) => e.key === 'Enter' && enterFullScreen()}>\n          Enter Full Screen\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default FullScreen;\n","import React from 'react';\nimport { useAuthState } from '../../Context';\n\nconst ChatMembers = ({ members }) => {\n  const { email } = useAuthState();\n  if (!members || members.count < 2) return null;\n\n  return (\n    <div>\n      {Object.values(members).map(member => {\n        const tagType = member.email === email ? 'is-link' : 'is-light';\n        return (\n          <div key={member.email} className={`tag mr-1 mb-1 ${tagType}`}>{member.email}</div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default ChatMembers;\n","import React from 'react';\nimport { useAuthState } from '../../Context';\nimport ChatMembers from './ChatMembers';\n\nconst ChatInterface = ({ open, members, chatHistory, closeChat, message, setMessage, sendMessage }) => {\n  const { email } = useAuthState();\n\n  if (!open || !members || Object.values(members).length < 2) {\n    return null;\n  }\n\n  return (\n    <div className='chat-interface box has-background-link-light p-5'>\n      <div\n        tabIndex={0}\n        className='delete is-clickable is-size-3 close-chat-interface'\n        onClick={closeChat}\n        onKeyUp={(e) => e.key === 'Enter' && closeChat()}\n        dangerouslySetInnerHTML={{ __html: '&#215;' }}\n      />\n\n      <ChatMembers members={members} />\n\n      <div className='chat-messages box mt-2 p-3'>\n        <div className='is-full-width is-flex is-justify-content-center mb-4'>\n          <div className='tag is-dark'>This is the beginning of your conversation history</div>\n        </div>\n\n        {chatHistory.map((chat, index) => {\n          if (chat.sender === email) {\n            return (\n              <div className='is-full-width is-flex is-justify-content-flex-end mb-2' key={`chat-me-${index}`}>\n                <div className='tag is-medium is-link from-me-message is-pulled-right'>{chat.message}</div>\n              </div>\n            );\n          }\n\n          return (\n            <div className='mb-2' key={`chat-others-${index}`}>\n              <div className='tag is-medium is-light to-me-message'>{chat.message}</div>\n            </div>\n          );\n        })}\n\n        <div id='last-chat-element'></div>\n      </div>\n\n      <div className='chat-send-box box mt-2 p-3 mb-2'>\n        <div className='is-flex'>\n          <input\n            className='input is-normal'\n            type='text'\n            placeholder='Enter your message'\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyUp={(e) => e.key === 'Enter' && sendMessage()}\n          />\n\n          <div className='button is-primary ml-2' tabIndex={0} onClick={sendMessage} disabled={!message || !message.length}>\n            Send\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;\n","import React, { useState, useEffect } from 'react';\nimport { useAuthState } from '../../Context';\nimport ChatInterface from './ChatInterface';\n\nconst ChatBubble = ({ showChat, channel, chatHistory, setChatHistory, unreadMessage, setUnreadStatus, members }) => {\n  const [open, setOpenStatus] = useState(false);\n  const [message, setMessage] = useState('');\n  const { email } = useAuthState();\n\n  useEffect(() => {\n    const lastElement = document.getElementById('last-chat-element');\n    if (lastElement) {\n      lastElement.scrollIntoView();\n    }\n  }, [chatHistory, open]);\n\n  useEffect(() => {\n    const escFunction = (e) => {\n      if (e.keyCode !== 27) return;\n\n      openChat(false);\n    };\n\n    if (open) {\n      document.addEventListener('keydown', escFunction, false);\n    } else {\n      document.removeEventListener('keydown', escFunction, false);\n    }\n  }, [open]);  // eslint-disable-line\n\n  if (!channel || !showChat) return null;\n\n  const openChat = () => {\n    if (open) {\n      document.body.classList.remove('not-vertically-scrollable');\n    } else {\n      setUnreadStatus(false);\n      document.body.classList.add('not-vertically-scrollable');\n    }\n\n    setOpenStatus(!open);\n  };\n\n  const closeChat = () => { openChat(false) };\n\n  const sendMessage = () => {\n    if (!message || !message.length) return;\n\n    const formattedMessage = {\n      id: chatHistory.length + 1,\n      sender: email,\n      message,\n      timestamp: Date.now()\n    };\n\n    // Send message to others in the channel\n    channel.trigger('client-chat-message', formattedMessage);\n    setChatHistory([ ...chatHistory, formattedMessage ]);\n\n    setMessage('');\n  };\n\n  return (\n    <>\n      <button\n        className='button'\n        tabIndex={0}\n        onClick={openChat}\n        disabled={Object.values(members).length < 2}\n        onKeyUp={(e) => e.key === 'Enter' && openChat()}\n      >\n        Workout Chat\n        {unreadMessage && <div className='dot ml-1 has-background-primary'></div>}\n      </button>\n\n      <ChatInterface\n        open={open}\n        members={members}\n        chatHistory={chatHistory}\n        closeChat={closeChat}\n        message={message}\n        setMessage={setMessage}\n        sendMessage={sendMessage}\n      />\n    </>\n  );\n};\n\nexport default ChatBubble;\n","import React, { useEffect, useState } from 'react';\nimport { pauseButtonSrc, playButtonSrc, timeToString } from '../Config/utils';\n\nconst StopWatch = ({ showFinish = true, onPlayCallback = () => {}, onStopCallback = () => {}, onFinishCallback = () => {} }) => {\n  const [playing, setPlaying ] = useState(false);\n  const [startTime, setTime ] = useState(null);\n  const [elapsedTime, setElapsedTime ] = useState(0);\n  const [timerInterval, setTimerInterval ] = useState(null);\n\n  const handleMainAction = () => {\n    if (!playing) {\n      setTime(Date.now() - elapsedTime);\n      onPlayCallback();\n    } else {\n      clearInterval(timerInterval);\n      onStopCallback();\n    }\n\n    setPlaying(!playing);\n  };\n\n  useEffect(() => {\n    // On mount, we want to start the timer\n    handleMainAction();\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    // With react hooks, we can't set a callback after\n    // calling setState on a state variable. To get around this,\n    // we setup an effect that triggers when startTime is changed\n    if (startTime === null) {\n      clearInterval(timerInterval);\n      setTimerInterval(null);\n      setElapsedTime(0);\n    } else {\n      const interval = setInterval(function(){\n        if (startTime === null) {\n          setElapsedTime(0);\n        } else {\n          setElapsedTime(Date.now() - startTime);\n        }\n      }, 10);\n      setTimerInterval(interval);\n    }\n  }, [startTime]); // eslint-disable-line\n\n  const handleFinish = () => {\n    if (playing) {\n      handleMainAction();\n      onFinishCallback(elapsedTime);\n    }\n  };\n\n  return (\n    <div className='has-text-centered is-flex is-flex-direction-column is-align-items-center'>\n      <div className='stopwatch-circle circle is-flex is-justify-content-center is-align-items-center'>\n        <span className='time is-size-4' id='display'>\n          {elapsedTime ? timeToString(elapsedTime) : '00:00:00'}\n        </span>\n      </div>\n\n      <div className='mt-3 is-flex is-justify-content-space-between is-align-items-center'>\n        <img\n          className='is-clickable'\n          tabIndex={0}\n          id='main-action-button'\n          alt={playing ? 'pause stopwatch' : 'start stopwatch'}\n          src={playing ? pauseButtonSrc : playButtonSrc}\n          onClick={handleMainAction}\n          onKeyUp={(e) => e.key === 'Enter' && handleMainAction()}\n        />\n\n        {showFinish && playing && (\n          <div\n            className='button ml-5 is-medium'\n            tabIndex={0}\n            id='reset-button'\n            onClick={handleFinish}\n            onKeyUp={(e) => e.key === 'Enter' && handleFinish()}\n          >\n            Finish\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default StopWatch;\n","import React from 'react';\nimport Show from '../../Components/Show';\nimport StopWatch from '../../Components/Stopwatch';\n\nconst SegmentActions = ({ workoutStarted, startClick, onFinishCallback, showStopwatch }) => {\n  if (!workoutStarted) return null;\n\n  return (\n    <>\n      {!showStopwatch && (\n        <div tabIndex={0} className='button is-primary is-medium' onClick={startClick}>\n          Start\n        </div>\n      )}\n\n      <Show condition={showStopwatch}>\n        <StopWatch onFinishCallback={onFinishCallback} />\n      </Show>\n    </>\n  );\n}\n\nexport default SegmentActions;\n","import React from 'react';\nimport { timeToString } from '../../Config/utils';\nimport { grabSegmentNotificationClass } from './SegmentUtils';\n\nconst SegmentDataTable = ({ segmentData, timeGoal }) => {\n  if (!Object.keys(segmentData).length) return null;\n\n  return (\n    <>\n      <table className='table is-bordered'>\n        <thead>\n          <tr>\n            <th>User</th>\n            <th>Finish Time</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {Object.keys(segmentData).map(email => {\n            const results = segmentData[email];\n\n            return (\n              <tr key={email}>\n                <td>{email}</td>\n                <td className={`pb-1 pb-1 ${grabSegmentNotificationClass(results.finishTime, results.timeGoal)}`}>\n                  {timeToString(results.finishTime)}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default SegmentDataTable;\n","import React, { PureComponent } from 'react';\n\nclass Countdown extends PureComponent {\n  state = {\n    minutesRemaining: 0,\n    secondsRemaining: 0,\n    goalInMS: new Date().getTime() + (this.props.amount * 1000)\n  };\n\n  calculateMinutesRemaining = () => {\n    // Get todays date and time\n    const now = new Date().getTime();\n    // Find the distance between now an the count down date\n    const distance = this.state.goalInMS - now;\n    return Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n  }\n\n  calculateSecondsRemaining() {\n    // Get todays date and time\n    const now = new Date().getTime();\n    // Find the distance between now an the count down date\n    const distance = this.state.goalInMS - now;\n    return Math.floor((distance % (1000 * 60)) / 1000);\n  }\n\n  tick = () => {\n    this.setState({\n      minutesRemaining: this.calculateMinutesRemaining(),\n      secondsRemaining: this.calculateSecondsRemaining()\n    }, () => {\n      if (this.state.secondsRemaining <= 0 && this.state.minutesRemaining <= 0) {\n        clearInterval(this.interval);\n\n        if (this.props.onFinish) {\n          this.props.onFinish();\n        }\n      }\n    });\n  }\n\n  componentDidMount = () => {\n    this.tick();\n    this.interval = setInterval(this.tick, 1000);\n  }\n\n  componentWillUnmount = () => {\n    clearInterval(this.interval);\n  }\n\n  get textColor() {\n    if (this.state.minutesRemaining === 0 && this.state.secondsRemaining < 30) {\n      return 'has-text-danger';\n    }\n\n    return '';\n  }\n\n  render() {\n    return (\n      <div className={this.textColor}>\n        {this.state.minutesRemaining}:{this.state.secondsRemaining} left\n      </div>\n    );\n  }\n}\n\nexport default Countdown;\n","import React from 'react';\nimport Countdown from '../../Components/Countdown';\nimport Show from '../../Components/Show';\n\nconst SegmentRest = ({ restFinished, rest, showRestTimer, onRestFinish }) => {\n  return (\n    <>\n      <b className='is-size-5'>Rest</b>\n\n      <br/>\n\n      <Show condition={!restFinished}>\n        {showRestTimer ? (\n          <Countdown amount={rest} onFinish={onRestFinish} />\n        ) : (\n          <span>{rest} seconds</span>\n        )}\n      </Show>\n\n      <Show condition={restFinished}>\n        <div className='has-text-success'>\n          Get ready for the next segment!\n        </div>\n       </Show>\n    </>\n  );\n};\n\nexport default SegmentRest;\n","import React, { useEffect, useState } from 'react';\nimport Show from '../../Components/Show';\nimport { useAuthState } from '../../Context';\nimport SegmentActions from './SegmentActions';\nimport SegmentDataTable from './SegmentDataTable';\nimport SegmentRest from './SegmentRest';\n\nconst Segment = ({ segment, segmentsLength, showStopwatch, toggleStopwatch, segmentData, index, workoutStarted, segmentIdentifier }) => {\n  const [showRestTimer, toggleRestTimer] = useState(false);\n  const [restFinished, toggleRestFinished] = useState(false);\n  const { email } = useAuthState();\n\n  useEffect(() => {\n    // When the identifier changes, don't show the rest timer\n    toggleRestTimer(false);\n    toggleRestFinished(false);\n  }, [segmentIdentifier]);\n\n  if (!segment) return null;\n\n  const startClick = () => {\n    toggleStopwatch(!showStopwatch);\n  };\n  const onFinishCallback = (time) => {\n    toggleStopwatch(false, time);\n    toggleRestTimer(true);\n  };\n\n  const onRestFinish = () => {\n    toggleRestTimer(false);\n    toggleRestFinished(true);\n  };\n\n  const myResultsIn = !!segmentData[email];\n\n  return (\n    <div className='mt-2'>\n      <div className='card'>\n        <div className='segment-position'>\n          {index + 1 } / {segmentsLength}\n        </div>\n\n        <div className='card-content pt-1'>\n          <div className='content'>\n            <div className='columns mt-1 is-flex'>\n              <div className='column is-half'>\n                <b className='is-size-5'>{segment.display_length} Goal</b>\n                <br/>\n                {segment.time_goal} seconds\n              </div>\n\n              <div className='column is-half'>\n                <SegmentRest rest={segment.rest} showRestTimer={showRestTimer} onRestFinish={onRestFinish} restFinished={restFinished} />\n              </div>\n            </div>\n\n            <Show condition={!myResultsIn}>\n              <SegmentActions\n                showStopwatch={showStopwatch}\n                startClick={startClick}\n                onFinishCallback={onFinishCallback}\n                workoutStarted={workoutStarted}\n              />\n            </Show>\n\n            <SegmentDataTable segmentData={segmentData} timeGoal={segment.time_goal} />\n\n            <hr />\n\n            <p>\n              {segment.description}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Segment;\n","import React from 'react';\nimport Segment from './Segment';\n\nconst LiveSegmentView = ({ segments, segmentsLength, segmentIdentifier, segmentData, showStopwatch, toggleStopwatch }) => {\n  if (!segmentsLength) return null;\n\n  const activeSegment = segments.find(s => s.identifier === segmentIdentifier);\n  const index = segments.findIndex(s => s.identifier === segmentIdentifier);\n\n  return (\n    <Segment\n      index={index}\n      segment={activeSegment}\n      segmentsLength={segmentsLength}\n      segmentIdentifier={segmentIdentifier}\n      workoutStarted={true}\n      segmentData={segmentData}\n      showStopwatch={showStopwatch}\n      toggleStopwatch={toggleStopwatch}\n    />\n  );\n}\n\nexport default LiveSegmentView;\n","import React from 'react';\n\nconst StaticSegment = ({ segment }) => (\n  <div className='column is-one-third'>\n    <div className='card'>\n      <div className='card-content pt-1'>\n        <div className='content'>\n          <div className='columns mt-1 is-flex'>\n            <div className='column is-half'>\n              <b className='is-size-5'>{segment.display_length} Goal</b>\n              <br/>\n              {segment.time_goal} seconds\n            </div>\n\n            <div className='column is-half'>\n              <b className='is-size-5'>Rest</b>\n              <br/>\n              {segment.rest} seconds\n            </div>\n          </div>\n\n          <hr />\n\n          <p>\n            {segment.description}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default StaticSegment;\n","import React from 'react';\nimport Show from '../../Components/Show';\nimport { useAuthState } from '../../Context';\nimport LiveSegmentView from './LiveSegmentView';\nimport StaticSegment from './StaticSegment';\n\nconst Segments = ({ selectedWorkout, segmentIdentifier, segmentData, showStopwatch, toggleStopwatch, ...props }) => {\n  const { email } = useAuthState();\n  if (!selectedWorkout.segments.length) {\n    return (\n      <p className='mb-3'>\n        Workout cannot start. No segments added yet :(\n      </p>\n    );\n  }\n\n  const segments = selectedWorkout.segments;\n  const segmentsLength = segments.length;\n  const myResultsIn = !!segmentData[email];\n  const allResultsIn = Object.keys(segmentData).length === Object.keys(props.members).length;\n\n  if (segmentIdentifier) {\n    return (\n      <>\n        <Show condition={myResultsIn && allResultsIn}>\n          <div className='button is-primary mt-2 mb-1' tabIndex={0} onClick={props.onNextClick}>\n            Next Segment\n          </div>\n        </Show>\n\n        <LiveSegmentView\n          segments={segments}\n          segmentsLength={segmentsLength}\n          segmentIdentifier={segmentIdentifier}\n          segmentData={segmentData}\n          showStopwatch={showStopwatch}\n          toggleStopwatch={toggleStopwatch}\n        />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div className='is-size-3 mb-5'>\n        {segmentsLength} Total {segmentsLength === 1 ? 'Segment' : 'Segments'}\n      </div>\n\n      <div className='segments columns'>\n        {segments.map((segment) => (\n          <StaticSegment\n            key={segment.identifier}\n            segment={segment}\n          />\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Segments;\n","import React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport LockScreen from './LockScreen';\nimport FullScreen from './FullScreen';\nimport ChatBubble from './ChatBubble';\nimport Segments from './Segments';\nimport ChatMembers from './ChatMembers';\nimport Show from '../../Components/Show';\n\nclass WorkoutDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chatHistory: [],\n      unreadMessage: false,\n      members: [],\n      showChat: false,\n      showStopwatch: false\n    };\n\n    // Enable pusher logging - not enabled in any environment except local\n    Pusher.logToConsole = process.env.NODE_ENV === 'development';\n\n    this.pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY, {\n      cluster: process.env.REACT_APP_PUSHER_CLUSTER,\n      authEndpoint: `${process.env.REACT_APP_ROOT_URL}/pusher/auth`,\n      auth: {\n        headers: { 'Authorization': localStorage.getItem('currentUserToken') || '' }\n      }\n    });\n\n    this.channel = this.pusher.subscribe(`presence-workoutChannel-${this.identifier}`);\n  }\n\n  get identifier() {\n    const { identifier } = this.props.selectedWorkout;\n    return identifier;\n  }\n\n  componentDidMount() {\n    this.channel.bind('pusher:subscription_succeeded', function(info) {\n      this.setState({ members: info.members, showChat: true });\n    }, this);\n\n    this.channel.bind('pusher:member_added', function(member) {\n      const newMembers = {\n        ...this.state.members,\n        [member.id]: member.info\n      }\n      this.setState({ members: newMembers });\n    }, this);\n\n    this.channel.bind('pusher:member_removed', function(member) {\n      const newMembers = Object.keys(this.state.members)\n        .filter(key => `${key}` !== `${member.id}`)\n        .reduce((obj, key) => {\n          obj[key] = this.state.members[key];\n          return obj;\n        }, {});\n\n      this.setState({ members: newMembers });\n    }, this);\n\n    this.channel.bind('client-chat-message', (data) => {\n      this.setState({\n        chatHistory: [\n          ...this.state.chatHistory,\n          {\n            ...data\n          }\n        ],\n        unreadMessage: true\n      });\n    }, this);\n\n    this.channel.bind('client-workout-started', (data) => {\n      this.props.mirrorWorkout(data);\n    }, this);\n\n    this.channel.bind('client-segment-started', (_data) => {\n      // Event from another user starting a segment\n      this.setState({ showStopwatch: true });\n    }, this);\n\n    this.channel.bind('client-segment-finished', (segmentData) => {\n      // Event from another user finishing a segment\n      this.props.mirrorSegmentData(segmentData);\n    }, this);\n\n    this.channel.bind('client-segment-next', (_data) => {\n      // Event from another user going to the next segment\n      this.props.mirrorNextSegment();\n    }, this);\n  }\n\n  componentWillUnmount() {\n    this.pusher.unsubscribe(`presence-workoutChannel-${this.identifier}`);\n\n    if (this.channel) {\n      this.channel.unbind();\n    }\n\n    this.pusher.disconnect();\n\n    document.body.classList.remove('not-vertically-scrollable');\n  }\n\n  setChatHistory = (history) => {\n    this.setState({ chatHistory: history });\n  }\n\n  setUnreadStatus = (status) => {\n    this.setState({ unreadMessage: status });\n  }\n\n  get showStartWorkoutButton() {\n    if (this.props.workoutStarted) return false;\n\n    return !!this.props.selectedWorkout.segments.length;\n  }\n\n  startWorkoutWrapper = () => {\n    this.props.startWorkout(this.channel);\n  }\n\n  toggleStopwatch = (value, finishTime = null) => {\n    if (value) {\n      this.channel.trigger('client-segment-started', {});\n    } else {\n      const segment = this.props.selectedWorkout.segments.find(s => s.identifier === this.props.segmentIdentifier);\n      const segmentData = { email: this.props.email, results: {\n        finishTime,\n        timeGoal: segment.time_goal,\n        displayLength: segment.display_length\n      }};\n      this.channel.trigger('client-segment-finished', segmentData);\n      this.props.mirrorSegmentData(segmentData);\n    }\n\n    this.setState({ showStopwatch: value });\n  }\n\n  onNextClick = () => {\n    this.props.mirrorNextSegment();\n    this.channel.trigger('client-segment-next', {});\n  }\n\n  render() {\n    return (\n      <>\n        <div className='buttons'>\n          <Show condition={this.showStartWorkoutButton}>\n            <div tabIndex={0} className='button is-primary' onClick={this.startWorkoutWrapper}>\n              Start Workout\n            </div>\n          </Show>\n\n          <LockScreen />\n          <FullScreen />\n          <ChatBubble\n            channel={this.channel}\n            setChatHistory={this.setChatHistory}\n            setUnreadStatus={this.setUnreadStatus}\n            {...this.state}\n          />\n        </div>\n\n        <ChatMembers members={this.state.members} />\n\n        <Segments\n          selectedWorkout={this.props.selectedWorkout}\n          segmentIdentifier={this.props.segmentIdentifier}\n          segmentData={this.props.segmentData}\n          showStopwatch={this.state.showStopwatch}\n          toggleStopwatch={this.toggleStopwatch}\n          members={this.state.members}\n          onNextClick={this.onNextClick}\n        />\n      </>\n    );\n  }\n}\n\nexport default WorkoutDetail;\n","import React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Loader from '../../Components/Loader';\nimport Show from '../../Components/Show';\nimport { generateUUID } from '../../Config/utils';\nimport { useAuthDispatch, useAuthState } from '../../Context';\nimport { getWorkout } from '../../Context/actions';\nimport PreviousSessions from './PreviousSessions';\nimport { getRelevantSegmentData, saveRelevantSegmentData } from './SegmentUtils';\nimport WorkoutDetail from './WorkoutDetail';\n\nconst Workout = ({ match }) => {\n  const { params: { identifier } } = match;\n  const { selectedWorkout, error, loading, email } = useAuthState();\n  const dispatch = useAuthDispatch();\n  const [activeTab, setActiveTab] = useState('current');\n\n  const sessionFromLS = localStorage.getItem('liveSessionIdentifier') || null;\n  const identifierFromLS = localStorage.getItem('liveWorkoutIdentifier') || null;\n  const workoutStartedInitial = !!sessionFromLS && identifier === identifierFromLS;\n\n  const [workoutStarted, setWorkoutStatus] = useState(workoutStartedInitial);\n  const sessionIdenitiferInitial = workoutStartedInitial ? sessionFromLS : null;\n  const [liveSessionIdentifier, setSessionIdentifier] = useState(sessionIdenitiferInitial);\n\n  const segmentIdentifierFromLS = localStorage.getItem('liveSegmentIdentifier') || null;\n  const [segmentIdentifier, setSegmentIdentifier] = useState(segmentIdentifierFromLS);\n\n  const defaultSegmentData = getRelevantSegmentData(identifier, liveSessionIdentifier, segmentIdentifier);\n  const [segmentData, setSegmentData] = useState(defaultSegmentData);\n\n  const setWorkoutData = (uuid, newIdentifier, newSegmentIdentifier, workoutStatus = true) => {\n    localStorage.setItem('liveSessionIdentifier', uuid);\n    localStorage.setItem('liveWorkoutIdentifier', newIdentifier);\n    localStorage.setItem('liveSegmentIdentifier', newSegmentIdentifier);\n\n    setWorkoutStatus(workoutStatus);\n    setSessionIdentifier(uuid);\n    setSegmentIdentifier(newSegmentIdentifier);\n    setSegmentData({});\n  };\n\n  const startWorkout = (channel = null) => {\n    const uuid = generateUUID();\n    const currentSegmentIdentifier = selectedWorkout.segments[0].identifier;\n    setWorkoutData(uuid, identifier, currentSegmentIdentifier);\n\n    if (channel) {\n      channel.trigger('client-workout-started', { uuid, identifier, currentSegmentIdentifier });\n    }\n  };\n\n  const mirrorNextSegment = () => {\n    const currentIndex = selectedWorkout.segments.findIndex(s => s.identifier === segmentIdentifier);\n    let newSegmentIdentifier;\n    if ((currentIndex + 1) >= selectedWorkout.segments.length) {\n      newSegmentIdentifier = null;\n    } else {\n      newSegmentIdentifier = selectedWorkout.segments[currentIndex + 1].identifier;\n    }\n\n    localStorage.setItem('liveSegmentIdentifier', newSegmentIdentifier);\n    saveRelevantSegmentData(identifier, liveSessionIdentifier, segmentIdentifier, segmentData);\n    setSegmentIdentifier(newSegmentIdentifier);\n    setSegmentData({});\n    if (newSegmentIdentifier === null) {\n      setWorkoutData(null, null, null, false);\n      setActiveTab('previous');\n    }\n  }\n\n  const mirrorSegmentData = (data) => {\n    setSegmentData({\n      ...segmentData,\n      [data.email]: data.results\n    });\n  }\n\n  const mirrorWorkout = (data) => {\n    setWorkoutData(data.uuid, data.identifier, data.currentSegmentIdentifier);\n  };\n\n  useEffect(() => {\n    getWorkout(identifier, dispatch);\n  }, [identifier, dispatch]);\n\n  if (loading) {\n    return <Loader />;\n  } else if (!selectedWorkout || !Object.keys(selectedWorkout).length) {\n    return (\n      <div className='has-text-centered'>\n        <h1 className='is-size-3'>{error}</h1>\n        <NavLink to='/workouts' className='button mt-3'>Return to My Workouts</NavLink>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <nav className='breadcrumb mb-1' aria-label='breadcrumbs'>\n        <ul>\n          <li>\n            <NavLink to='/workouts' className=''>Workouts</NavLink>\n          </li>\n          <li className='is-active'>\n            <div className='ml-3'>{selectedWorkout.name}</div>\n          </li>\n        </ul>\n      </nav>\n\n      <Show condition={!workoutStarted}>\n        <div className='tabs is-medium'>\n          <ul>\n            <li className={activeTab === 'current' ? 'is-active' : undefined}>\n              {/* eslint-disable-next-line */}\n              <a className='tab' onClick={() => setActiveTab('current')}>\n                Current\n              </a>\n            </li>\n\n            <li className={activeTab === 'previous' ? 'is-active' : undefined}>\n              {/* eslint-disable-next-line */}\n              <a className='tab' onClick={() => setActiveTab('previous')}>\n                Previous Sessions\n              </a>\n            </li>\n          </ul>\n        </div>\n      </Show>\n      <Show condition={workoutStarted}>\n        <div className='is-size-4 mb-2' key={liveSessionIdentifier}>\n          Workout is Live!\n        </div>\n      </Show>\n\n      {activeTab === 'current' && (\n        <WorkoutDetail\n          selectedWorkout={selectedWorkout}\n          workoutStarted={workoutStarted}\n          startWorkout={startWorkout}\n          mirrorWorkout={mirrorWorkout}\n          segmentIdentifier={segmentIdentifier}\n          segmentData={segmentData}\n          mirrorSegmentData={mirrorSegmentData}\n          mirrorNextSegment={mirrorNextSegment}\n          email={email}\n        />\n      )}\n\n      {activeTab === 'previous' && <PreviousSessions selectedWorkout={selectedWorkout} />}\n    </>\n  );\n}\n\nexport default Workout;\n"],"sourceRoot":""}