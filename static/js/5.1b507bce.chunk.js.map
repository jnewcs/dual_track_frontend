{"version":3,"sources":["Pages/Workout/LockScreen.jsx","Pages/Workout/FullScreen.jsx","Pages/Workout/ChatMembers.jsx","Pages/Workout/ChatInterface.jsx","Pages/Workout/ChatBubble.jsx","Config/utils.js","Components/Stopwatch.jsx","Pages/Workout/Segment.jsx","Pages/Workout/Segments.jsx","Pages/Workout/WorkoutDetail.jsx","Pages/Workout/index.jsx"],"names":["LockScreen","useState","screenLock","setScreenLock","locked","setLockedStatus","navigator","requestWakeLock","a","wakeLock","request","lock","console","error","name","message","releaseWakeLock","release","className","tabIndex","onClick","onKeyUp","e","key","FullScreen","document","fullscreenElement","inFullScreen","setScreenStatus","enterFullScreen","documentElement","requestFullscreen","leaveFullScreen","exitFullscreen","ChatMembers","members","email","useAuthState","count","Object","values","map","member","tagType","ChatInterface","open","chatHistory","closeChat","setMessage","sendMessage","length","dangerouslySetInnerHTML","__html","chat","index","sender","id","type","placeholder","value","onChange","target","disabled","ChatBubble","showChat","channel","setChatHistory","unreadMessage","setUnreadStatus","setOpenStatus","useEffect","lastElement","getElementById","scrollIntoView","escFunction","keyCode","openChat","addEventListener","removeEventListener","body","classList","remove","add","formattedMessage","timestamp","Date","now","trigger","timeToString","time","diffInHrs","diffInMin","Math","floor","mm","diffInSec","ss","diffInMs","ms","formattedMM","toString","padStart","formattedSS","formattedMS","StopWatch","showFinish","onPlayCallback","onStopCallback","onFinishCallback","playing","setPlaying","startTime","setTime","elapsedTime","setElapsedTime","timerInterval","setTimerInterval","handleMainAction","clearInterval","interval","setInterval","handleFinish","alt","src","Segment","segment","segmentLength","showStopwatch","toggleStopwatch","finishTime","setFinishTime","display_length","time_goal","rest","finishTimeInSeconds","difference","grabNotificationClass","description","Segments","selectedWorkout","segments","identifier","WorkoutDetail","props","history","setState","status","state","Pusher","logToConsole","process","pusher","cluster","authEndpoint","auth","headers","localStorage","getItem","subscribe","this","bind","info","newMembers","keys","filter","reduce","obj","data","unsubscribe","unbind","Component","Workout","match","params","loading","dispatch","useAuthDispatch","getWorkout","Loader","aria-label","to"],"mappings":"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","file":"static/js/5.1b507bce.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nconst LockScreen = () => {\n  const [screenLock, setScreenLock] = useState(null);\n  const [locked, setLockedStatus] = useState(false);\n\n  if (!('wakeLock' in navigator)) {\n    // Screen Wake Lock API is not supported 🎉\n    // - Need to be running the server in HTTPS mode\n    return null;\n  }\n\n  // Function that attempts to request a screen wake lock.\n  const requestWakeLock = async () => {\n    try {\n      const lock = await navigator.wakeLock.request('screen');\n      setScreenLock(lock);\n      setLockedStatus(true);\n    } catch (err) {\n      console.error(`${err.name}, ${err.message}`);\n    }\n  };\n  const releaseWakeLock = () => {\n    if (screenLock) screenLock.release();\n\n    setScreenLock(null);\n    setLockedStatus(false);\n  };\n\n  return (\n    <>\n      {locked ? (\n        <div className='button' tabIndex='0' onClick={releaseWakeLock} onKeyUp={(e) => e.key === 'Enter' && releaseWakeLock()}>\n          Unlock Page\n        </div>\n      ) : (\n        <div className='button' tabIndex='0' onClick={requestWakeLock} onKeyUp={(e) => e.key === 'Enter' && requestWakeLock()}>\n          Lock Page\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default LockScreen;\n","import React, { useState } from 'react';\n\nconst FullScreen = () => {\n  const [inFullScreen, setScreenStatus] = useState(!!document.fullscreenElement);\n\n  const enterFullScreen = () => {\n    document.documentElement.requestFullscreen();\n    setScreenStatus(true);\n  };\n  const leaveFullScreen = () => {\n    document.exitFullscreen();\n    setScreenStatus(false);\n  };\n\n  return (\n    <>\n      {inFullScreen ? (\n        <div className='button' tabIndex='0' onClick={leaveFullScreen} onKeyUp={(e) => e.key === 'Enter' && leaveFullScreen()}>\n          Leave Full Screen\n        </div>\n      ) : (\n        <div className='button' tabIndex='0' onClick={enterFullScreen} onKeyUp={(e) => e.key === 'Enter' && enterFullScreen()}>\n          Enter Full Screen\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default FullScreen;\n","import React from 'react';\nimport { useAuthState } from '../../Context';\n\nconst ChatMembers = ({ members }) => {\n  const { email } = useAuthState();\n  if (!members || members.count < 2) return null;\n\n  return (\n    <h5 className='chat-title is-size-5'>\n      People in Chat\n\n      <br/>\n\n      {Object.values(members).map(member => {\n        const tagType = member.email === email ? 'is-link' : 'is-light';\n        return (\n          <div key={member.email} className={`tag ${tagType}`}>{member.email}</div>\n        );\n      })}\n    </h5>\n  );\n};\n\nexport default ChatMembers;\n","import React from 'react';\nimport { useAuthState } from '../../Context';\nimport ChatMembers from './ChatMembers';\n\nconst ChatInterface = ({ open, members, chatHistory, closeChat, message, setMessage, sendMessage }) => {\n  const { email } = useAuthState();\n\n  if (!open || !members || Object.values(members).length < 2) {\n    return null;\n  }\n\n  return (\n    <div className='chat-interface box has-background-link-light p-5'>\n      <div\n        tabIndex={0}\n        className='delete is-clickable is-size-3 close-chat-interface'\n        onClick={closeChat}\n        onKeyUp={(e) => e.key === 'Enter' && closeChat()}\n        dangerouslySetInnerHTML={{ __html: '&#215;' }}\n      />\n\n      <ChatMembers members={members} />\n\n      <div className='chat-messages box mt-2 p-3'>\n        <div className='is-full-width is-flex is-justify-content-center mb-4'>\n          <div className='tag is-dark'>This is the beginning of your conversation history</div>\n        </div>\n\n        {chatHistory.map((chat, index) => {\n          if (chat.sender === email) {\n            return (\n              <div className='is-full-width is-flex is-justify-content-flex-end mb-2' key={`chat-me-${index}`}>\n                <div className='tag is-medium is-link from-me-message is-pulled-right'>{chat.message}</div>\n              </div>\n            );\n          }\n\n          return (\n            <div className='mb-2' key={`chat-others-${index}`}>\n              <div className='tag is-medium is-light to-me-message'>{chat.message}</div>\n            </div>\n          );\n        })}\n\n        <div id='last-chat-element'></div>\n      </div>\n\n      <div className='chat-send-box box mt-2 p-3 mb-2'>\n        <div className='is-flex'>\n          <input\n            className='input is-normal'\n            type='text'\n            placeholder='Enter your message'\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyUp={(e) => e.key === 'Enter' && sendMessage()}\n          />\n\n          <div className='button is-primary ml-2' tabIndex={0} onClick={sendMessage} disabled={!message || !message.length}>\n            Send\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;\n","import React, { useState, useEffect } from 'react';\nimport { useAuthState } from '../../Context';\nimport ChatInterface from './ChatInterface';\n\nconst ChatBubble = ({ showChat, channel, chatHistory, setChatHistory, unreadMessage, setUnreadStatus, members }) => {\n  const [open, setOpenStatus] = useState(false);\n  const [message, setMessage] = useState('');\n  const { email } = useAuthState();\n\n  useEffect(() => {\n    const lastElement = document.getElementById('last-chat-element');\n    if (lastElement) {\n      lastElement.scrollIntoView();\n    }\n  }, [chatHistory, open]);\n\n  useEffect(() => {\n    const escFunction = (e) => {\n      if (e.keyCode !== 27) return;\n\n      openChat(false);\n    };\n\n    if (open) {\n      document.addEventListener('keydown', escFunction, false);\n    } else {\n      document.removeEventListener('keydown', escFunction, false);\n    }\n  }, [open]);  // eslint-disable-line\n\n  if (!channel || !showChat) return null;\n\n  const openChat = () => {\n    if (open) {\n      document.body.classList.remove('not-vertically-scrollable');\n    } else {\n      setUnreadStatus(false);\n      document.body.classList.add('not-vertically-scrollable');\n    }\n\n    setOpenStatus(!open);\n  };\n\n  const closeChat = () => { openChat(false) };\n\n  const sendMessage = () => {\n    if (!message || !message.length) return;\n\n    const formattedMessage = {\n      id: chatHistory.length + 1,\n      sender: email,\n      message,\n      timestamp: Date.now()\n    };\n\n    // Send message to others in the channel\n    channel.trigger('client-chat-message', formattedMessage);\n    setChatHistory([ ...chatHistory, formattedMessage ]);\n\n    setMessage('');\n  };\n\n  return (\n    <>\n      <button\n        className='button'\n        tabIndex={0}\n        onClick={openChat}\n        disabled={Object.values(members).length < 2}\n        onKeyUp={(e) => e.key === 'Enter' && openChat()}\n      >\n        Workout Chat\n        {unreadMessage && <div className='dot ml-1 has-background-primary'></div>}\n      </button>\n\n      <ChatInterface\n        open={open}\n        members={members}\n        chatHistory={chatHistory}\n        closeChat={closeChat}\n        message={message}\n        setMessage={setMessage}\n        sendMessage={sendMessage}\n      />\n    </>\n  );\n};\n\nexport default ChatBubble;\n","// SVG Icon Links\nexport const pauseButtonSrc = 'https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/pause-button_pinhpy.svg';\nexport const playButtonSrc = 'https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/play-button_opkxmt.svg';\nexport const resetButtonSrc = 'https://res.cloudinary.com/https-tinloof-com/image/upload/v1593360448/blog/time-in-js/reset-button_mdv6wf.svg';\n\n// Convert time to a format of hours, minutes, seconds, and milliseconds\nexport function timeToString(time) {\n  let diffInHrs = time / 3600000;\n  let hh = Math.floor(diffInHrs);\n\n  let diffInMin = (diffInHrs - hh) * 60;\n  let mm = Math.floor(diffInMin);\n\n  let diffInSec = (diffInMin - mm) * 60;\n  let ss = Math.floor(diffInSec);\n\n  let diffInMs = (diffInSec - ss) * 100;\n  let ms = Math.floor(diffInMs);\n\n  let formattedMM = mm.toString().padStart(2, \"0\");\n  let formattedSS = ss.toString().padStart(2, \"0\");\n  let formattedMS = ms.toString().padStart(2, \"0\");\n\n  return `${formattedMM}:${formattedSS}:${formattedMS}`;\n}\n","import React, { useEffect, useState } from 'react';\nimport { pauseButtonSrc, playButtonSrc, timeToString } from '../Config/utils';\n\nconst StopWatch = ({ showFinish = true, onPlayCallback = () => {}, onStopCallback = () => {}, onFinishCallback = () => {} }) => {\n  const [playing, setPlaying ] = useState(false);\n  const [startTime, setTime ] = useState(null);\n  const [elapsedTime, setElapsedTime ] = useState(0);\n  const [timerInterval, setTimerInterval ] = useState(null);\n\n  const handleMainAction = () => {\n    if (!playing) {\n      setTime(Date.now() - elapsedTime);\n      onPlayCallback();\n    } else {\n      clearInterval(timerInterval);\n      onStopCallback();\n    }\n\n    setPlaying(!playing);\n  };\n\n  useEffect(() => {\n    // On mount, we want to start the timer\n    handleMainAction();\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    // With react hooks, we can't set a callback after\n    // calling setState on a state variable. To get around this,\n    // we setup an effect that triggers when startTime is changed\n    if (startTime === null) {\n      clearInterval(timerInterval);\n      setTimerInterval(null);\n      setElapsedTime(0);\n    } else {\n      const interval = setInterval(function(){\n        if (startTime === null) {\n          setElapsedTime(0);\n        } else {\n          setElapsedTime(Date.now() - startTime);\n        }\n      }, 10);\n      setTimerInterval(interval);\n    }\n  }, [startTime]); // eslint-disable-line\n\n  const handleFinish = () => {\n    if (playing) {\n      handleMainAction();\n      onFinishCallback(elapsedTime);\n    }\n  };\n\n  return (\n    <div className='has-text-centered is-flex is-flex-direction-column is-align-items-center'>\n      <div className='stopwatch-circle circle is-flex is-justify-content-center is-align-items-center'>\n        <span className='time is-size-4' id='display'>\n          {elapsedTime ? timeToString(elapsedTime) : '00:00:00'}\n        </span>\n      </div>\n\n      <div className='mt-3 is-flex is-justify-content-space-between is-align-items-center'>\n        <img\n          className='is-clickable'\n          tabIndex={0}\n          id='main-action-button'\n          alt={playing ? 'pause stopwatch' : 'start stopwatch'}\n          src={playing ? pauseButtonSrc : playButtonSrc}\n          onClick={handleMainAction}\n          onKeyUp={(e) => e.key === 'Enter' && handleMainAction()}\n        />\n\n        {showFinish && playing && (\n          <div\n            className='button ml-5 is-medium'\n            tabIndex={0}\n            id='reset-button'\n            onClick={handleFinish}\n            onKeyUp={(e) => e.key === 'Enter' && handleFinish()}\n          >\n            Finish\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default StopWatch;\n","import React, { useState } from 'react';\nimport StopWatch from '../../Components/Stopwatch';\nimport { timeToString } from '../../Config/utils';\n\nconst Segment = ({ segment, segmentLength, index }) => {\n  const [showStopwatch, toggleStopwatch] = useState(false);\n  const [finishTime, setFinishTime] = useState(null);\n\n  const startClick = () => {\n    toggleStopwatch(!showStopwatch);\n  };\n  const onFinishCallback = (time) => {\n    toggleStopwatch(false);\n    setFinishTime(time);\n    // TODO: Kickoff rest period (segment.rest)\n    // TODO: show post segment feedback (good, neutral, bad)\n    // TODO: consolidate info and show next segment\n  };\n\n  const grabNotificationClass = () => {\n    const finishTimeInSeconds = finishTime / 1000.0;\n    const difference = segment.time_goal - finishTimeInSeconds;\n    if (difference < -8.0) return 'notification is-danger';\n    if (difference < -4.0) return 'notification is-warning';\n\n    return 'notification is-success';\n  };\n\n  return (\n    <div className='column is-one-third'>\n      <div className='card'>\n        <div className='segment-position'>\n          <span className='has-text-primary'>{index + 1 }</span> / {segmentLength}\n        </div>\n\n        <div className='card-content pt-1'>\n          <div className='content'>\n            <div className='columns mt-1 is-flex'>\n              <div className='column is-half'>\n                <b className='is-size-5'>{segment.display_length} Goal</b>\n                <br/>\n                {segment.time_goal} seconds\n              </div>\n\n              <div className='column is-half'>\n                <b className='is-size-5'>Rest</b>\n                <br/>\n                {segment.rest} seconds\n              </div>\n            </div>\n\n            {finishTime ? (\n              <div className={grabNotificationClass()}>\n                <b className='is-size-5'>Actual Time</b>\n                <br/>\n                {timeToString(finishTime)}\n              </div>\n            ) : (\n              <>\n                {!showStopwatch && (\n                  <div tabIndex={0} className='button is-primary is-medium' onClick={startClick}>\n                    Start\n                  </div>\n                )}\n\n                {showStopwatch && <StopWatch onFinishCallback={onFinishCallback} />}\n              </>\n            )}\n\n            <hr />\n            <p>\n              {segment.description}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Segment;\n","import React from 'react';\nimport Segment from './Segment';\n\nconst Segments = ({ selectedWorkout }) => {\n  if (!selectedWorkout || !selectedWorkout.segments || !selectedWorkout.segments.length) {\n    return (\n      <p className='mb-3'>\n        Workout cannot start. No segments added yet :(\n      </p>\n    );\n  }\n\n  const segments = selectedWorkout.segments;\n  const segmentLength = segments.length;\n\n  return (\n    <>\n      <div className='is-size-3 mb-5'>\n        {segmentLength} Total {segmentLength === 1 ? 'Segment' : 'Segments'}\n      </div>\n\n      <div className='segments columns'>\n        {segments.map((segment, index) => (\n          <Segment key={segment.identifier} segment={segment}segmentLength={segmentLength} index={index} />\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Segments;\n","import React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport LockScreen from './LockScreen';\nimport FullScreen from './FullScreen';\nimport ChatBubble from './ChatBubble';\nimport Segments from './Segments';\n\nclass WorkoutDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chatHistory: [],\n      unreadMessage: false,\n      members: [],\n      showChat: false\n    };\n\n    // Enable pusher logging - not enabled in any environment except local\n    const isLocal = process.env.NODE_ENV === 'development';\n    Pusher.logToConsole = isLocal;\n\n    this.pusher = new Pusher(process.env.REACT_APP_PUSHER_KEY, {\n      cluster: process.env.REACT_APP_PUSHER_CLUSTER,\n      authEndpoint: `${process.env.REACT_APP_ROOT_URL}/pusher/auth`,\n      auth: {\n        headers: { 'Authorization': localStorage.getItem('currentUserToken') || '' }\n      }\n    });\n\n    this.channel = this.pusher.subscribe(`presence-workoutChannel-${this.identifier}`);\n  }\n\n  get identifier() {\n    const { identifier } = this.props.selectedWorkout;\n    return identifier;\n  }\n\n  componentDidMount() {\n    this.channel.bind('pusher:subscription_succeeded', function(info) {\n      this.setState({ members: info.members, showChat: true });\n    }, this);\n\n    this.channel.bind('pusher:member_added', function(member) {\n      const newMembers = {\n        ...this.state.members,\n        [member.id]: member.info\n      }\n      this.setState({ members: newMembers });\n    }, this);\n\n    this.channel.bind('pusher:member_removed', function(member) {\n      const newMembers = Object.keys(this.state.members)\n        .filter(key => `${key}` !== `${member.id}`)\n        .reduce((obj, key) => {\n          obj[key] = this.state.members[key];\n          return obj;\n        }, {});\n\n      this.setState({ members: newMembers });\n    }, this);\n\n    this.channel.bind('client-chat-message', (data) => {\n      this.setState({\n        chatHistory: [\n          ...this.state.chatHistory,\n          {\n            ...data\n          }\n        ],\n        unreadMessage: true\n      });\n    }, this);\n  }\n\n  componentWillUnmount() {\n    this.pusher.unsubscribe(`presence-workoutChannel-${this.identifier}`);\n\n    if (this.channel) {\n      this.channel.unbind();\n    }\n\n    document.body.classList.remove('not-vertically-scrollable');\n  }\n\n  setChatHistory = (history) => {\n    this.setState({ chatHistory: history });\n  }\n\n  setUnreadStatus = (status) => {\n    this.setState({ unreadMessage: status });\n  }\n\n  render() {\n    return (\n      <>\n        <div className='buttons'>\n          <LockScreen />\n          <FullScreen />\n          <ChatBubble\n            channel={this.channel}\n            setChatHistory={this.setChatHistory}\n            setUnreadStatus={this.setUnreadStatus}\n            {...this.state}\n          />\n        </div>\n\n        <Segments selectedWorkout={this.props.selectedWorkout} />\n      </>\n    );\n  }\n}\n\nexport default WorkoutDetail;\n","import React, { useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Loader from '../../Components/Loader';\nimport { useAuthDispatch, useAuthState } from '../../Context';\nimport { getWorkout } from '../../Context/actions';\nimport WorkoutDetail from './WorkoutDetail';\n\nconst Workout = ({ match }) => {\n  const { params: { identifier } } = match;\n  const { selectedWorkout, error, loading } = useAuthState();\n  const dispatch = useAuthDispatch();\n  useEffect(() => {\n    getWorkout(identifier, dispatch);\n  }, [identifier, dispatch]);\n\n  if (loading) {\n    return <Loader />;\n  } else if (!selectedWorkout || !Object.keys(selectedWorkout).length) {\n    return (\n      <div className='has-text-centered'>\n        <h1 className='is-size-3'>{error}</h1>\n        <NavLink to='/workouts' className='button mt-3'>Return to My Workouts</NavLink>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <nav className='breadcrumb' aria-label='breadcrumbs'>\n        <ul>\n          <li>\n            <NavLink to='/workouts' className=''>Workouts</NavLink>\n          </li>\n          <li className='is-active'>\n            <div className='ml-3'>{selectedWorkout.name}</div>\n          </li>\n        </ul>\n      </nav>\n\n      <WorkoutDetail selectedWorkout={selectedWorkout} />\n    </>\n  );\n}\n\nexport default Workout;\n"],"sourceRoot":""}